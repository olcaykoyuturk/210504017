:root{
  --bg:#f6f7fb; --card:#ffffff; --text:#0c111a; --muted:#6b7280; --border:#e5e7eb;
  --accent:#111827; --accent-contrast:#ffffff;
  --danger:#ef4444; --ok:#16a34a; --info:#2563eb;
  --shadow:0 8px 30px rgba(2,6,23,.06); --ring:0 0 0 3px rgba(99,102,241,.18);
}
[data-theme="dark"]{
  --bg:#0b0f15; --card:#0f1623; --text:#e5e7eb; --muted:#9aa4b2; --border:#1f2a3b;
  --accent:#6ea8fe; --accent-contrast:#ffffff;
  --danger:#ff5c7c; --ok:#50d17d; --info:#7aa2ff;
  --shadow:0 10px 40px rgba(3,8,20,.35); --ring:0 0 0 3px rgba(110,168,254,.22);
}

/* base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
  margin:0;background:linear-gradient(180deg,var(--bg),color-mix(in oklab,var(--bg) 85%,transparent));
  color:var(--text);
}
.wrap{max-width:1180px;margin:0 auto;padding:14px 18px}
.appbar{position:sticky;top:0;z-index:100;backdrop-filter:saturate(140%) blur(8px);background:color-mix(in oklab,var(--bg) 70%,transparent);border-bottom:1px solid var(--border)}
.appbar-inner{display:flex;align-items:center;justify-content:space-between;gap:12px}

/* theme fixes */
body, .title, h1,h2,h3, label, .card, .row, .muted, .dim { color: var(--text); }
input,textarea,select{color:var(--text)}
input::placeholder,textarea::placeholder{color:color-mix(in oklab,var(--text) 55%,transparent)}
.prewrap{white-space:pre-wrap}
.tiny{font-size:12px}

/* brand */
.brand{display:flex;align-items:center;gap:10px}
.logo{width:36px;height:36px;border-radius:10px;background:radial-gradient(120% 120% at 0% 0%, var(--accent) 0%, #7c3aed 40%, #22d3ee 100%);box-shadow:var(--shadow)}
.title{margin:0;font-weight:800;letter-spacing:.2px}
.toolbar{display:flex;gap:10px;align-items:center}

/* form */
input,textarea,select{width:100%;padding:12px;border:1px solid var(--border);border-radius:12px;background:transparent;outline:none;transition:box-shadow .12s,border-color .12s}
input:focus,textarea:focus,select:focus{box-shadow:var(--ring);border-color:color-mix(in oklab,var(--accent) 65%,var(--border))}
textarea{min-height:92px;resize:vertical}

/* buttons */
.btn{padding:10px 14px;border:1px solid var(--accent);background:var(--accent);border-radius:12px;cursor:pointer;transition:transform .06s, opacity .15s, box-shadow .15s; font-weight:600; color:var(--accent-contrast)}
.btn:hover{transform:translateY(-1px)} .btn:active{transform:translateY(0)}
.btn.secondary{background:transparent;color:var(--text)}
.btn.ghost{border-color:var(--border);background:transparent}
.btn:disabled{opacity:.55;cursor:not-allowed;transform:none}
.btn.loading{position:relative;pointer-events:none}
.btn.loading::after{content:""; position:absolute; right:12px; top:50%; width:16px; height:16px; margin-top:-8px; border:2px solid color-mix(in oklab,var(--accent-contrast) 40%, transparent); border-top-color:var(--accent-contrast); border-radius:50%; animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* layout helpers */
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.between{justify-content:space-between}
.end{justify-content:flex-end}
.align-end{display:flex;align-items:flex-end}
.flex1{flex:1}
.gap12{gap:12px}
.spacer{height:8px}
.section{margin:22px 0}
.section-title{margin:0 0 10px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:14px}
.grid.two-col{grid-template-columns:repeat(auto-fill,minmax(340px,1fr))}
.grid.reasons{grid-template-columns:repeat(auto-fill,minmax(240px,1fr))}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:14px;box-shadow:var(--shadow)}
.head-card{display:flex;align-items:center;justify-content:space-between;gap:10px}
.pill{font-size:12px;padding:5px 10px;border-radius:999px;border:1px solid var(--border);display:inline-flex;gap:6px;align-items:center;color:color-mix(in oklab,var(--text) 85%,transparent)}
.pill.ok{border-color:var(--ok);color:var(--ok)} .pill.bad{border-color:var(--danger);color:var(--danger)} .pill.info{border-color:var(--info);color:var(--info)}
.badge{font-size:11px;padding:2px 8px;border-radius:999px;background:var(--border);display:inline-block}
.muted{color:var(--muted)} .dim{color:var(--muted);font-size:13px}

/* modal & skeleton */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(3,7,18,.45);z-index:120}
.modal .inner{background:linear-gradient(180deg,color-mix(in oklab,var(--card) 85%,transparent),var(--card));border:1px solid var(--border);padding:18px;border-radius:16px;box-shadow:var(--shadow)}
.w560{max-width:560px;width:min(92%,560px)} .w720{max-width:720px;width:min(96%,720px)} .w780{max-width:780px;width:min(96%,780px)} .w860{max-width:860px;width:min(96%,860px)}
.skeleton{position:relative;overflow:hidden;border-radius:12px;background:color-mix(in oklab,var(--border) 60%,transparent)}
.skeleton::after{content:""; position:absolute; inset:0; background:linear-gradient(90deg, transparent, color-mix(in oklab, var(--card) 60%, transparent), transparent); animation:shimmer 1.1s infinite}
@keyframes shimmer{from{transform:translateX(-100%)} to{transform:translateX(100%)}}
.h150{height:150px}

/* tabs */
.tabs{margin-top:8px}
.tabBtn{border:1px solid var(--border)!important;background:transparent!important}
.tabBtn.active{border-color:var(--accent)!important}
.tabPane{animation:fade .15s linear}
@keyframes fade{from{opacity:.6} to{opacity:1}}
.ul{margin:6px 0 0 16px}